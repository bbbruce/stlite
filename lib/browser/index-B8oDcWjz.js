import{c,r as b,by as j,j as t,b4 as C,l as E}from"./index-Bil1Hr5a.js";import{w as v,u as y,E as L}from"./withFullScreenWrapper-Xo2yarZC.js";import{S as p,T}from"./Toolbar-DJVrQ0s_.js";const W=c("div",{target:"e115fcil2"})(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",rowGap:e.spacing.lg,maxWidth:"100%",width:"fit-content"}),""),F=c("div",{target:"e115fcil1"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"stretch",width:"auto",flexGrow:0,">img":{borderRadius:e.radii.default}}),""),M=c("div",{target:"e115fcil0"})(({theme:e})=>({textAlign:"center",marginTop:e.spacing.xs,wordWrap:"break-word",padding:e.spacing.threeXS}),""),S=E.getLogger("ImageList");function D({element:e,endpoints:g,disableFullscreenMode:h}){const x=j(e.imgs),{expanded:o,width:f,height:n,expand:u,collapse:w}=y(L),m=f||0;let s;const r=e.width;if([-1,-3,-4].includes(r))s=void 0;else if([-2,-5].includes(r))s=m;else if(r>0)s=r;else throw Error(`Invalid image width: ${r}`);const i={};n&&o?(i.maxHeight=n,i.objectFit="contain"):(i.width=s,i.maxWidth="100%");const I=d=>{const a=d.currentTarget.src;S.error(`Client Error: Image source error - ${a}`),g.sendClientErrorToHost("Image","Image source failed to load","onerror triggered",a)};return t.jsxs(p,{width:m,height:n,useContainerWidth:o,topCentered:!0,children:[t.jsx(T,{target:p,isFullScreen:o,onExpand:u,onCollapse:w,disableFullscreenMode:h}),t.jsx(W,{className:"stImage","data-testid":"stImage",children:x.map((d,a)=>{const l=d;return t.jsxs(F,{"data-testid":"stImageContainer",children:[t.jsx("img",{style:i,src:g.buildMediaURL(l.url),alt:a.toString(),onError:I}),l.caption&&t.jsx(M,{"data-testid":"stImageCaption",style:i,children:t.jsx(C,{source:l.caption,allowHTML:!1,isCaption:!0,isLabel:!0})})]},a)})})]})}const G=v(D),H=b.memo(G);export{H as default};
