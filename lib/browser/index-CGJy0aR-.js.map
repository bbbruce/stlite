{"version":3,"file":"index-CGJy0aR-.js","sources":["../../../node_modules/@emotion-icons/material-outlined/Mic/Mic.esm.js","../../../node_modules/@emotion-icons/material-rounded/Pause/Pause.esm.js","../../../node_modules/@emotion-icons/material-rounded/PlayArrow/PlayArrow.esm.js","../../../node_modules/@emotion-icons/material-rounded/Refresh/Refresh.esm.js","../../../node_modules/@emotion-icons/material-rounded/StopCircle/StopCircle.esm.js","../../../node_modules/wavesurfer.js/dist/wavesurfer.esm.js","../../../node_modules/wavesurfer.js/dist/plugins/record.js","../../../streamlit/frontend/lib/src/util/uploadFiles.ts","../../../streamlit/frontend/lib/src/hooks/useWidgetManagerElementState.tsx","../../../streamlit/frontend/lib/src/hooks/useDownloadUrl.ts","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/styled-components.ts","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/NoMicPermissions.tsx","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/Placeholder.tsx","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/constants.ts","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/formatTime.ts","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/AudioInputActionButtons.tsx","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/convertAudioToWav.ts","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/AudioInputErrorState.tsx","../../../streamlit/frontend/lib/src/components/widgets/AudioInput/AudioInput.tsx"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { EmotionIconBase } from '@emotion-icons/emotion-icon';\nexport var Mic = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(EmotionIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 24\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 24\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 24\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z\"\n  }));\n});\nMic.displayName = 'Mic';\nexport var MicDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { EmotionIconBase } from '@emotion-icons/emotion-icon';\nexport var Pause = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(EmotionIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 24,\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z\"\n  }));\n});\nPause.displayName = 'Pause';\nexport var PauseDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { EmotionIconBase } from '@emotion-icons/emotion-icon';\nexport var PlayArrow = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(EmotionIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 24,\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18a1 1 0 000-1.69L9.54 5.98A.998.998 0 008 6.82z\"\n  }));\n});\nPlayArrow.displayName = 'PlayArrow';\nexport var PlayArrowDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { EmotionIconBase } from '@emotion-icons/emotion-icon';\nexport var Refresh = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(EmotionIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M0 0h24v24H0V0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.65 6.35a7.95 7.95 0 00-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 007.21-4.56c.32-.67-.16-1.44-.9-1.44-.37 0-.72.2-.88.53a5.994 5.994 0 01-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0112 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71l-.64.65z\"\n  }));\n});\nRefresh.displayName = 'Refresh';\nexport var RefreshDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { EmotionIconBase } from '@emotion-icons/emotion-icon';\nexport var StopCircle = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(EmotionIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 24\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 24\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M9 16h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1H9c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z\"\n  }));\n});\nStopCircle.displayName = 'StopCircle';\nexport var StopCircleDimensions = {\n  height: 24,\n  width: 24\n};","function t(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))}\"function\"==typeof SuppressedError&&SuppressedError;class e{constructor(){this.listeners={}}on(t,e,i){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),null==i?void 0:i.once){const i=()=>{this.un(t,i),this.un(t,e)};return this.on(t,i),i}return()=>this.un(t,e)}un(t,e){var i;null===(i=this.listeners[t])||void 0===i||i.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach((t=>t(...e)))}}const i={decode:function(e,i){return t(this,void 0,void 0,(function*(){const t=new AudioContext({sampleRate:i});return t.decodeAudioData(e).finally((()=>t.close()))}))},createBuffer:function(t,e){return\"number\"==typeof t[0]&&(t=[t]),function(t){const e=t[0];if(e.some((t=>t>1||t<-1))){const i=e.length;let s=0;for(let t=0;t<i;t++){const i=Math.abs(e[t]);i>s&&(s=i)}for(const e of t)for(let t=0;t<i;t++)e[t]/=s}}(t),{duration:e,length:t[0].length,sampleRate:t[0].length/e,numberOfChannels:t.length,getChannelData:e=>null==t?void 0:t[e],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function s(t,e){const i=e.xmlns?document.createElementNS(e.xmlns,t):document.createElement(t);for(const[t,n]of Object.entries(e))if(\"children\"===t)for(const[t,n]of Object.entries(e))\"string\"==typeof n?i.appendChild(document.createTextNode(n)):i.appendChild(s(t,n));else\"style\"===t?Object.assign(i.style,n):\"textContent\"===t?i.textContent=n:i.setAttribute(t,n.toString());return i}function n(t,e,i){const n=s(t,e||{});return null==i||i.appendChild(n),n}var r=Object.freeze({__proto__:null,createElement:n,default:n});const o={fetchBlob:function(e,i,s){return t(this,void 0,void 0,(function*(){const n=yield fetch(e,s);if(n.status>=400)throw new Error(`Failed to fetch ${e}: ${n.status} (${n.statusText})`);return function(e,i){t(this,void 0,void 0,(function*(){if(!e.body||!e.headers)return;const s=e.body.getReader(),n=Number(e.headers.get(\"Content-Length\"))||0;let r=0;const o=e=>t(this,void 0,void 0,(function*(){r+=(null==e?void 0:e.length)||0;const t=Math.round(r/n*100);i(t)})),a=()=>t(this,void 0,void 0,(function*(){let t;try{t=yield s.read()}catch(t){return}t.done||(o(t.value),yield a())}));a()}))}(n.clone(),i),n.blob()}))}};class a extends e{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement(\"audio\"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),null!=t.playbackRate&&this.onMediaEvent(\"canplay\",(()=>{null!=t.playbackRate&&(this.media.playbackRate=t.playbackRate)}),{once:!0})}onMediaEvent(t,e,i){return this.media.addEventListener(t,e,i),()=>this.media.removeEventListener(t,e,i)}getSrc(){return this.media.currentSrc||this.media.src||\"\"}revokeSrc(){const t=this.getSrc();t.startsWith(\"blob:\")&&URL.revokeObjectURL(t)}canPlayType(t){return\"\"!==this.media.canPlayType(t)}setSrc(t,e){const i=this.getSrc();if(t&&i===t)return;this.revokeSrc();const s=e instanceof Blob&&(this.canPlayType(e.type)||!t)?URL.createObjectURL(e):t;i&&(this.media.src=\"\");try{this.media.src=s}catch(e){this.media.src=t}}destroy(){this.isExternalMedia||(this.media.pause(),this.media.remove(),this.revokeSrc(),this.media.src=\"\",this.media.load())}setMediaElement(t){this.media=t}play(){return t(this,void 0,void 0,(function*(){return this.media.play()}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=Math.max(0,Math.min(t,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,e){null!=e&&(this.media.preservesPitch=e),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}class h extends e{constructor(t,e){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.subscriptions=[],this.options=t;const i=this.parentFromOptionsContainer(t.container);this.parent=i;const[s,n]=this.initHtml();i.appendChild(s),this.container=s,this.scrollContainer=n.querySelector(\".scroll\"),this.wrapper=n.querySelector(\".wrapper\"),this.canvasWrapper=n.querySelector(\".canvases\"),this.progressWrapper=n.querySelector(\".progress\"),this.cursor=n.querySelector(\".cursor\"),e&&n.appendChild(e),this.initEvents()}parentFromOptionsContainer(t){let e;if(\"string\"==typeof t?e=document.querySelector(t):t instanceof HTMLElement&&(e=t),!e)throw new Error(\"Container not found\");return e}initEvents(){const t=t=>{const e=this.wrapper.getBoundingClientRect(),i=t.clientX-e.left,s=t.clientY-e.top;return[i/e.width,s/e.height]};if(this.wrapper.addEventListener(\"click\",(e=>{const[i,s]=t(e);this.emit(\"click\",i,s)})),this.wrapper.addEventListener(\"dblclick\",(e=>{const[i,s]=t(e);this.emit(\"dblclick\",i,s)})),!0!==this.options.dragToSeek&&\"object\"!=typeof this.options.dragToSeek||this.initDrag(),this.scrollContainer.addEventListener(\"scroll\",(()=>{const{scrollLeft:t,scrollWidth:e,clientWidth:i}=this.scrollContainer,s=t/e,n=(t+i)/e;this.emit(\"scroll\",s,n,t,t+i)})),\"function\"==typeof ResizeObserver){const t=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{t().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&\"auto\"!==this.options.height||(this.lastContainerWidth=t,this.reRender())}initDrag(){this.subscriptions.push(function(t,e,i,s,n=3,r=0,o=100){if(!t)return()=>{};const a=matchMedia(\"(pointer: coarse)\").matches;let h=()=>{};const l=l=>{if(l.button!==r)return;l.preventDefault(),l.stopPropagation();let d=l.clientX,c=l.clientY,u=!1;const p=Date.now(),m=s=>{if(s.preventDefault(),s.stopPropagation(),a&&Date.now()-p<o)return;const r=s.clientX,h=s.clientY,l=r-d,m=h-c;if(u||Math.abs(l)>n||Math.abs(m)>n){const s=t.getBoundingClientRect(),{left:n,top:o}=s;u||(null==i||i(d-n,c-o),u=!0),e(l,m,r-n,h-o),d=r,c=h}},f=e=>{if(u){const i=e.clientX,n=e.clientY,r=t.getBoundingClientRect(),{left:o,top:a}=r;null==s||s(i-o,n-a)}h()},g=t=>{t.relatedTarget&&t.relatedTarget!==document.documentElement||f(t)},v=t=>{u&&(t.stopPropagation(),t.preventDefault())},b=t=>{u&&t.preventDefault()};document.addEventListener(\"pointermove\",m),document.addEventListener(\"pointerup\",f),document.addEventListener(\"pointerout\",g),document.addEventListener(\"pointercancel\",g),document.addEventListener(\"touchmove\",b,{passive:!1}),document.addEventListener(\"click\",v,{capture:!0}),h=()=>{document.removeEventListener(\"pointermove\",m),document.removeEventListener(\"pointerup\",f),document.removeEventListener(\"pointerout\",g),document.removeEventListener(\"pointercancel\",g),document.removeEventListener(\"touchmove\",b),setTimeout((()=>{document.removeEventListener(\"click\",v,{capture:!0})}),10)}};return t.addEventListener(\"pointerdown\",l),()=>{h(),t.removeEventListener(\"pointerdown\",l)}}(this.wrapper,((t,e,i)=>{this.emit(\"drag\",Math.max(0,Math.min(1,i/this.wrapper.getBoundingClientRect().width)))}),(t=>{this.isDragging=!0,this.emit(\"dragstart\",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))}),(t=>{this.isDragging=!1,this.emit(\"dragend\",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))})))}getHeight(t,e){var i;const s=(null===(i=this.audioData)||void 0===i?void 0:i.numberOfChannels)||1;if(null==t)return 128;if(!isNaN(Number(t)))return Number(t);if(\"auto\"===t){const t=this.parent.clientHeight||128;return(null==e?void 0:e.every((t=>!t.overlay)))?t/s:t}return 128}initHtml(){const t=document.createElement(\"div\"),e=t.attachShadow({mode:\"open\"}),i=this.options.cspNonce&&\"string\"==typeof this.options.cspNonce?this.options.cspNonce.replace(/\"/g,\"\"):\"\";return e.innerHTML=`\\n      <style${i?` nonce=\"${i}\"`:\"\"}>\\n        :host {\\n          user-select: none;\\n          min-width: 1px;\\n        }\\n        :host audio {\\n          display: block;\\n          width: 100%;\\n        }\\n        :host .scroll {\\n          overflow-x: auto;\\n          overflow-y: hidden;\\n          width: 100%;\\n          position: relative;\\n        }\\n        :host .noScrollbar {\\n          scrollbar-color: transparent;\\n          scrollbar-width: none;\\n        }\\n        :host .noScrollbar::-webkit-scrollbar {\\n          display: none;\\n          -webkit-appearance: none;\\n        }\\n        :host .wrapper {\\n          position: relative;\\n          overflow: visible;\\n          z-index: 2;\\n        }\\n        :host .canvases {\\n          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;\\n        }\\n        :host .canvases > div {\\n          position: relative;\\n        }\\n        :host canvas {\\n          display: block;\\n          position: absolute;\\n          top: 0;\\n          image-rendering: pixelated;\\n        }\\n        :host .progress {\\n          pointer-events: none;\\n          position: absolute;\\n          z-index: 2;\\n          top: 0;\\n          left: 0;\\n          width: 0;\\n          height: 100%;\\n          overflow: hidden;\\n        }\\n        :host .progress > div {\\n          position: relative;\\n        }\\n        :host .cursor {\\n          pointer-events: none;\\n          position: absolute;\\n          z-index: 5;\\n          top: 0;\\n          left: 0;\\n          height: 100%;\\n          border-radius: 2px;\\n        }\\n      </style>\\n\\n      <div class=\"scroll\" part=\"scroll\">\\n        <div class=\"wrapper\" part=\"wrapper\">\\n          <div class=\"canvases\" part=\"canvases\"></div>\\n          <div class=\"progress\" part=\"progress\"></div>\\n          <div class=\"cursor\" part=\"cursor\"></div>\\n        </div>\\n      </div>\\n    `,[t,e]}setOptions(t){if(this.options.container!==t.container){const e=this.parentFromOptionsContainer(t.container);e.appendChild(this.container),this.parent=e}!0!==t.dragToSeek&&\"object\"!=typeof this.options.dragToSeek||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:e}=this.scrollContainer,i=e*t;this.setScroll(i)}destroy(){var t,e;this.subscriptions.forEach((t=>t())),this.container.remove(),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),null===(e=this.unsubscribeOnScroll)||void 0===e||e.forEach((t=>t())),this.unsubscribeOnScroll=[]}createDelay(t=10){let e,i;const s=()=>{e&&clearTimeout(e),i&&i()};return this.timeouts.push(s),()=>new Promise(((n,r)=>{s(),i=r,e=setTimeout((()=>{e=void 0,i=void 0,n()}),t)}))}convertColorValues(t){if(!Array.isArray(t))return t||\"\";if(t.length<2)return t[0]||\"\";const e=document.createElement(\"canvas\"),i=e.getContext(\"2d\"),s=e.height*(window.devicePixelRatio||1),n=i.createLinearGradient(0,0,0,s),r=1/(t.length-1);return t.forEach(((t,e)=>{const i=e*r;n.addColorStop(i,t)})),n}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(t,e,i,s){const n=t[0],r=t[1]||t[0],o=n.length,{width:a,height:h}=i.canvas,l=h/2,d=this.getPixelRatio(),c=e.barWidth?e.barWidth*d:1,u=e.barGap?e.barGap*d:e.barWidth?c/2:0,p=e.barRadius||0,m=a/(c+u)/o,f=p&&\"roundRect\"in i?\"roundRect\":\"rect\";i.beginPath();let g=0,v=0,b=0;for(let t=0;t<=o;t++){const o=Math.round(t*m);if(o>g){const t=Math.round(v*l*s),n=t+Math.round(b*l*s)||1;let r=l-t;\"top\"===e.barAlign?r=0:\"bottom\"===e.barAlign&&(r=h-n),i[f](g*(c+u),r,c,n,p),g=o,v=0,b=0}const a=Math.abs(n[t]||0),d=Math.abs(r[t]||0);a>v&&(v=a),d>b&&(b=d)}i.fill(),i.closePath()}renderLineWaveform(t,e,i,s){const n=e=>{const n=t[e]||t[0],r=n.length,{height:o}=i.canvas,a=o/2,h=i.canvas.width/r;i.moveTo(0,a);let l=0,d=0;for(let t=0;t<=r;t++){const r=Math.round(t*h);if(r>l){const t=a+(Math.round(d*a*s)||1)*(0===e?-1:1);i.lineTo(l,t),l=r,d=0}const o=Math.abs(n[t]||0);o>d&&(d=o)}i.lineTo(l,a)};i.beginPath(),n(0),n(1),i.fill(),i.closePath()}renderWaveform(t,e,i){if(i.fillStyle=this.convertColorValues(e.waveColor),e.renderFunction)return void e.renderFunction(t,i);let s=e.barHeight||1;if(e.normalize){const e=Array.from(t[0]).reduce(((t,e)=>Math.max(t,Math.abs(e))),0);s=e?1/e:1}e.barWidth||e.barGap||e.barAlign?this.renderBarWaveform(t,e,i,s):this.renderLineWaveform(t,e,i,s)}renderSingleCanvas(t,e,i,s,n,r,o){const a=this.getPixelRatio(),h=document.createElement(\"canvas\");h.width=Math.round(i*a),h.height=Math.round(s*a),h.style.width=`${i}px`,h.style.height=`${s}px`,h.style.left=`${Math.round(n)}px`,r.appendChild(h);const l=h.getContext(\"2d\");if(this.renderWaveform(t,e,l),h.width>0&&h.height>0){const t=h.cloneNode(),i=t.getContext(\"2d\");i.drawImage(h,0,0),i.globalCompositeOperation=\"source-in\",i.fillStyle=this.convertColorValues(e.progressColor),i.fillRect(0,0,h.width,h.height),o.appendChild(t)}}renderMultiCanvas(t,e,i,s,n,r){const o=this.getPixelRatio(),{clientWidth:a}=this.scrollContainer,l=i/o;let d=Math.min(h.MAX_CANVAS_WIDTH,a,l),c={};if(0===d)return;if(e.barWidth||e.barGap){const t=e.barWidth||.5,i=t+(e.barGap||t/2);d%i!=0&&(d=Math.floor(d/i)*i)}const u=i=>{if(i<0||i>=p)return;if(c[i])return;c[i]=!0;const o=i*d,a=Math.min(l-o,d);if(a<=0)return;const h=t.map((t=>{const e=Math.floor(o/l*t.length),i=Math.floor((o+a)/l*t.length);return t.slice(e,i)}));this.renderSingleCanvas(h,e,a,s,o,n,r)},p=Math.ceil(l/d);if(!this.isScrollable){for(let t=0;t<p;t++)u(t);return}const m=this.scrollContainer.scrollLeft/l,f=Math.floor(m*p);if(u(f-1),u(f),u(f+1),p>1){const t=this.on(\"scroll\",(()=>{const{scrollLeft:t}=this.scrollContainer,e=Math.floor(t/l*p);Object.keys(c).length>h.MAX_NODES&&(n.innerHTML=\"\",r.innerHTML=\"\",c={}),u(e-1),u(e),u(e+1)}));this.unsubscribeOnScroll.push(t)}}renderChannel(t,e,i,s){var{overlay:n}=e,r=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(i[s[n]]=t[s[n]])}return i}(e,[\"overlay\"]);const o=document.createElement(\"div\"),a=this.getHeight(r.height,r.splitChannels);o.style.height=`${a}px`,n&&s>0&&(o.style.marginTop=`-${a}px`),this.canvasWrapper.style.minHeight=`${a}px`,this.canvasWrapper.appendChild(o);const h=o.cloneNode();this.progressWrapper.appendChild(h),this.renderMultiCanvas(t,r,i,a,o,h)}render(e){return t(this,void 0,void 0,(function*(){var t;this.timeouts.forEach((t=>t())),this.timeouts=[],this.canvasWrapper.innerHTML=\"\",this.progressWrapper.innerHTML=\"\",null!=this.options.width&&(this.scrollContainer.style.width=\"number\"==typeof this.options.width?`${this.options.width}px`:this.options.width);const i=this.getPixelRatio(),s=this.scrollContainer.clientWidth,n=Math.ceil(e.duration*(this.options.minPxPerSec||0));this.isScrollable=n>s;const r=this.options.fillParent&&!this.isScrollable,o=(r?s:n)*i;if(this.wrapper.style.width=r?\"100%\":`${n}px`,this.scrollContainer.style.overflowX=this.isScrollable?\"auto\":\"hidden\",this.scrollContainer.classList.toggle(\"noScrollbar\",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=e,this.emit(\"render\"),this.options.splitChannels)for(let i=0;i<e.numberOfChannels;i++){const s=Object.assign(Object.assign({},this.options),null===(t=this.options.splitChannels)||void 0===t?void 0:t[i]);this.renderChannel([e.getChannelData(i)],s,o,i)}else{const t=[e.getChannelData(0)];e.numberOfChannels>1&&t.push(e.getChannelData(1)),this.renderChannel(t,this.options,o,0)}Promise.resolve().then((()=>this.emit(\"rendered\")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((t=>t())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:e}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:t}=this.progressWrapper.getBoundingClientRect();let i=t-e;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,e=!1){const{scrollLeft:i,scrollWidth:s,clientWidth:n}=this.scrollContainer,r=t*s,o=i,a=i+n,h=n/2;if(this.isDragging){const t=30;r+t>a?this.scrollContainer.scrollLeft+=t:r-t<o&&(this.scrollContainer.scrollLeft-=t)}else{(r<o||r>a)&&(this.scrollContainer.scrollLeft=r-(this.options.autoCenter?h:0));const t=r-i-h;e&&this.options.autoCenter&&t>0&&(this.scrollContainer.scrollLeft+=Math.min(t,10))}{const t=this.scrollContainer.scrollLeft,e=t/s,i=(t+n)/s;this.emit(\"scroll\",e,i,t,t+n)}}renderProgress(t,e){if(isNaN(t))return;const i=100*t;this.canvasWrapper.style.clipPath=`polygon(${i}% 0, 100% 0, 100% 100%, ${i}% 100%)`,this.progressWrapper.style.width=`${i}%`,this.cursor.style.left=`${i}%`,this.cursor.style.transform=`translateX(-${100===Math.round(i)?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,e)}exportImage(e,i,s){return t(this,void 0,void 0,(function*(){const t=this.canvasWrapper.querySelectorAll(\"canvas\");if(!t.length)throw new Error(\"No waveform data\");if(\"dataURL\"===s){const s=Array.from(t).map((t=>t.toDataURL(e,i)));return Promise.resolve(s)}return Promise.all(Array.from(t).map((t=>new Promise(((s,n)=>{t.toBlob((t=>{t?s(t):n(new Error(\"Could not export image\"))}),e,i)})))))}))}}h.MAX_CANVAS_WIDTH=8e3,h.MAX_NODES=10;class l extends e{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on(\"tick\",(()=>{requestAnimationFrame((()=>{this.emit(\"tick\")}))})),this.emit(\"tick\")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class d extends e{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc=\"\",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return t(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit(\"emptied\");fetch(t).then((e=>{if(e.status>=400)throw new Error(`Failed to fetch ${t}: ${e.status} (${e.statusText})`);return e.arrayBuffer()})).then((e=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(e))).then((e=>{this.currentSrc===t&&(this.buffer=e,this.emit(\"loadedmetadata\"),this.emit(\"canplay\"),this.autoplay&&this.play())}))}_play(){var t;if(!this.paused)return;this.paused=!1,null===(t=this.bufferNode)||void 0===t||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let e=this.playedDuration*this._playbackRate;(e>=this.duration||e<0)&&(e=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,e),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit(\"ended\"))}}_pause(){var t;this.paused=!0,null===(t=this.bufferNode)||void 0===t||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return t(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit(\"play\"))}))}pause(){this.paused||(this._pause(),this.emit(\"pause\"))}stopAt(t){const e=t-this.currentTime,i=this.bufferNode;null==i||i.stop(this.audioContext.currentTime+e),null==i||i.addEventListener(\"ended\",(()=>{i===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(e){return t(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(e)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const e=!this.paused;e&&this._pause(),this.playedDuration=t/this._playbackRate,e&&this._play(),this.emit(\"seeking\"),this.emit(\"timeupdate\")}get duration(){var t,e;return null!==(t=this._duration)&&void 0!==t?t:(null===(e=this.buffer)||void 0===e?void 0:e.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit(\"volumechange\")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const e=this.buffer.numberOfChannels;for(let i=0;i<e;i++)t.push(this.buffer.getChannelData(i));return t}}const c={waveColor:\"#999\",progressColor:\"#555\",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class u extends a{static create(t){return new u(t)}constructor(t){const e=t.media||(\"WebAudio\"===t.backend?new d:void 0);super({media:e,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},c,t),this.timer=new l;const i=e?void 0:this.getMediaElement();this.renderer=new h(this.options,i),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const s=this.options.url||this.getSrc()||\"\";Promise.resolve().then((()=>{this.emit(\"init\");const{peaks:t,duration:e}=this.options;(s||t&&e)&&this.load(s,t,e).catch((()=>null))}))}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on(\"tick\",(()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit(\"timeupdate\",t),this.emit(\"audioprocess\",t),null!=this.stopAtPosition&&this.isPlaying()&&t>=this.stopAtPosition&&this.pause()}})))}initPlayerEvents(){this.isPlaying()&&(this.emit(\"play\"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent(\"timeupdate\",(()=>{const t=this.updateProgress();this.emit(\"timeupdate\",t)})),this.onMediaEvent(\"play\",(()=>{this.emit(\"play\"),this.timer.start()})),this.onMediaEvent(\"pause\",(()=>{this.emit(\"pause\"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent(\"emptied\",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent(\"ended\",(()=>{this.emit(\"timeupdate\",this.getDuration()),this.emit(\"finish\"),this.stopAtPosition=null})),this.onMediaEvent(\"seeking\",(()=>{this.emit(\"seeking\",this.getCurrentTime())})),this.onMediaEvent(\"error\",(()=>{var t;this.emit(\"error\",null!==(t=this.getMediaElement().error)&&void 0!==t?t:new Error(\"Media error\")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on(\"click\",((t,e)=>{this.options.interact&&(this.seekTo(t),this.emit(\"interaction\",t*this.getDuration()),this.emit(\"click\",t,e))})),this.renderer.on(\"dblclick\",((t,e)=>{this.emit(\"dblclick\",t,e)})),this.renderer.on(\"scroll\",((t,e,i,s)=>{const n=this.getDuration();this.emit(\"scroll\",t*n,e*n,i,s)})),this.renderer.on(\"render\",(()=>{this.emit(\"redraw\")})),this.renderer.on(\"rendered\",(()=>{this.emit(\"redrawcomplete\")})),this.renderer.on(\"dragstart\",(t=>{this.emit(\"dragstart\",t)})),this.renderer.on(\"dragend\",(t=>{this.emit(\"dragend\",t)})));{let t;this.subscriptions.push(this.renderer.on(\"drag\",(e=>{if(!this.options.interact)return;let i;this.renderer.renderProgress(e),clearTimeout(t),this.isPlaying()?i=0:!0===this.options.dragToSeek?i=200:\"object\"==typeof this.options.dragToSeek&&void 0!==this.options.dragToSeek&&(i=this.options.dragToSeek.debounceTime),t=setTimeout((()=>{this.seekTo(e)}),i),this.emit(\"interaction\",e*this.getDuration()),this.emit(\"drag\",e)})))}}initPlugins(){var t;(null===(t=this.options.plugins)||void 0===t?void 0:t.length)&&this.options.plugins.forEach((t=>{this.registerPlugin(t)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((t=>t())),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),t.duration&&!t.peaks&&(this.decodedData=i.createBuffer(this.exportPeaks(),t.duration)),t.peaks&&t.duration&&(this.decodedData=i.createBuffer(t.peaks,t.duration)),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),null!=t.mediaControls&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once(\"destroy\",(()=>{this.plugins=this.plugins.filter((e=>e!==t))}))),t}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const e=t/this.getDuration();this.renderer.setScrollPercentage(e)}getActivePlugins(){return this.plugins}loadAudio(e,s,n,r){return t(this,void 0,void 0,(function*(){var t;if(this.emit(\"load\",e),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,!s&&!n){const i=this.options.fetchParams||{};window.AbortController&&!i.signal&&(this.abortController=new AbortController,i.signal=null===(t=this.abortController)||void 0===t?void 0:t.signal);const n=t=>this.emit(\"loading\",t);s=yield o.fetchBlob(e,n,i);const r=this.options.blobMimeType;r&&(s=new Blob([s],{type:r}))}this.setSrc(e,s);const a=yield new Promise((t=>{const e=r||this.getDuration();e?t(e):this.mediaSubscriptions.push(this.onMediaEvent(\"loadedmetadata\",(()=>t(this.getDuration())),{once:!0}))}));if(!e&&!s){const t=this.getMediaElement();t instanceof d&&(t.duration=a)}if(n)this.decodedData=i.createBuffer(n,a||0);else if(s){const t=yield s.arrayBuffer();this.decodedData=yield i.decode(t,this.options.sampleRate)}this.decodedData&&(this.emit(\"decode\",this.getDuration()),this.renderer.render(this.decodedData)),this.emit(\"ready\",this.getDuration())}))}load(e,i,s){return t(this,void 0,void 0,(function*(){try{return yield this.loadAudio(e,void 0,i,s)}catch(t){throw this.emit(\"error\",t),t}}))}loadBlob(e,i,s){return t(this,void 0,void 0,(function*(){try{return yield this.loadAudio(\"\",e,i,s)}catch(t){throw this.emit(\"error\",t),t}}))}zoom(t){if(!this.decodedData)throw new Error(\"No audio loaded\");this.renderer.zoom(t),this.emit(\"zoom\",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:e=8e3,precision:i=1e4}={}){if(!this.decodedData)throw new Error(\"The audio has not been decoded yet\");const s=Math.min(t,this.decodedData.numberOfChannels),n=[];for(let t=0;t<s;t++){const s=this.decodedData.getChannelData(t),r=[],o=s.length/e;for(let t=0;t<e;t++){const e=s.slice(Math.floor(t*o),Math.ceil((t+1)*o));let n=0;for(let t=0;t<e.length;t++){const i=e[t];Math.abs(i)>Math.abs(n)&&(n=i)}r.push(Math.round(n*i)/i)}n.push(r)}return n}getDuration(){let t=super.getDuration()||0;return 0!==t&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){this.stopAtPosition=null,super.setTime(t),this.updateProgress(t),this.emit(\"timeupdate\",t)}seekTo(t){const e=this.getDuration()*t;this.setTime(e)}play(e,i){const s=Object.create(null,{play:{get:()=>super.play}});return t(this,void 0,void 0,(function*(){null!=e&&this.setTime(e);const t=yield s.play.call(this);return null!=i&&(this.media instanceof d?this.media.stopAt(i):this.stopAtPosition=i),t}))}playPause(){return t(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load(\"\",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return t(this,arguments,void 0,(function*(t=\"image/png\",e=1,i=\"dataURL\"){return this.renderer.exportImage(t,e,i)}))}destroy(){var t;this.emit(\"destroy\"),null===(t=this.abortController)||void 0===t||t.abort(),this.plugins.forEach((t=>t.destroy())),this.subscriptions.forEach((t=>t())),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}u.BasePlugin=class extends e{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit(\"destroy\"),this.subscriptions.forEach((t=>t()))}},u.dom=r;export{u as default};\n","function t(t,i,e,s){return new(e||(e=Promise))((function(o,r){function n(t){try{d(s.next(t))}catch(t){r(t)}}function a(t){try{d(s.throw(t))}catch(t){r(t)}}function d(t){var i;t.done?o(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(n,a)}d((s=s.apply(t,i||[])).next())}))}\"function\"==typeof SuppressedError&&SuppressedError;class i{constructor(){this.listeners={}}on(t,i,e){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(i),null==e?void 0:e.once){const e=()=>{this.un(t,e),this.un(t,i)};return this.on(t,e),e}return()=>this.un(t,i)}un(t,i){var e;null===(e=this.listeners[t])||void 0===e||e.delete(i)}once(t,i){return this.on(t,i,{once:!0})}unAll(){this.listeners={}}emit(t,...i){this.listeners[t]&&this.listeners[t].forEach((t=>t(...i)))}}class e extends i{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit(\"destroy\"),this.subscriptions.forEach((t=>t()))}}class s extends i{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on(\"tick\",(()=>{requestAnimationFrame((()=>{this.emit(\"tick\")}))})),this.emit(\"tick\")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}const o=[\"audio/webm\",\"audio/wav\",\"audio/mpeg\",\"audio/mp4\",\"audio/mp3\"];class r extends e{constructor(t){var i,e,o,r,n,a;super(Object.assign(Object.assign({},t),{audioBitsPerSecond:null!==(i=t.audioBitsPerSecond)&&void 0!==i?i:128e3,scrollingWaveform:null!==(e=t.scrollingWaveform)&&void 0!==e&&e,scrollingWaveformWindow:null!==(o=t.scrollingWaveformWindow)&&void 0!==o?o:5,continuousWaveform:null!==(r=t.continuousWaveform)&&void 0!==r&&r,renderRecordedAudio:null===(n=t.renderRecordedAudio)||void 0===n||n,mediaRecorderTimeslice:null!==(a=t.mediaRecorderTimeslice)&&void 0!==a?a:void 0})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.timer=new s,this.subscriptions.push(this.timer.on(\"tick\",(()=>{const t=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+t,this.emit(\"record-progress\",this.duration)})))}static create(t){return new r(t||{})}renderMicStream(t){var i;const e=new AudioContext,s=e.createMediaStreamSource(t),o=e.createAnalyser();s.connect(o),this.options.continuousWaveform&&(o.fftSize=32);const r=o.frequencyBinCount,n=new Float32Array(r);let a=0;this.wavesurfer&&(null!==(i=this.originalOptions)&&void 0!==i||(this.originalOptions=Object.assign({},this.wavesurfer.options)),this.wavesurfer.options.interact=!1,this.options.scrollingWaveform&&(this.wavesurfer.options.cursorWidth=0));const d=setInterval((()=>{var t,i,s,d;if(!this.isWaveformPaused){if(o.getFloatTimeDomainData(n),this.options.scrollingWaveform){const t=Math.floor((this.options.scrollingWaveformWindow||0)*e.sampleRate),i=Math.min(t,this.dataWindow?this.dataWindow.length+r:r),s=new Float32Array(t);if(this.dataWindow){const e=Math.max(0,t-this.dataWindow.length);s.set(this.dataWindow.slice(-i+r),e)}s.set(n,t-r),this.dataWindow=s}else if(this.options.continuousWaveform){if(!this.dataWindow){const e=this.options.continuousWaveformDuration?Math.round(100*this.options.continuousWaveformDuration):(null!==(i=null===(t=this.wavesurfer)||void 0===t?void 0:t.getWidth())&&void 0!==i?i:0)*window.devicePixelRatio;this.dataWindow=new Float32Array(e)}let e=0;for(let t=0;t<r;t++){const i=Math.abs(n[t]);i>e&&(e=i)}if(a+1>this.dataWindow.length){const t=new Float32Array(2*this.dataWindow.length);t.set(this.dataWindow,0),this.dataWindow=t}this.dataWindow[a]=e,a++}else this.dataWindow=n;if(this.wavesurfer){const t=(null!==(d=null===(s=this.dataWindow)||void 0===s?void 0:s.length)&&void 0!==d?d:0)/100;this.wavesurfer.load(\"\",[this.dataWindow],this.options.scrollingWaveform?this.options.scrollingWaveformWindow:t).then((()=>{this.wavesurfer&&this.options.continuousWaveform&&(this.wavesurfer.setTime(this.getDuration()/1e3),this.wavesurfer.options.minPxPerSec||this.wavesurfer.setOptions({minPxPerSec:this.wavesurfer.getWidth()/this.wavesurfer.getDuration()}))})).catch((t=>{console.error(\"Error rendering real-time recording data:\",t)}))}}}),10);return{onDestroy:()=>{clearInterval(d),null==s||s.disconnect(),null==e||e.close()},onEnd:()=>{this.isWaveformPaused=!0,clearInterval(d),this.stopMic()}}}startMic(i){return t(this,void 0,void 0,(function*(){let t;try{t=yield navigator.mediaDevices.getUserMedia({audio:null==i||i})}catch(t){throw new Error(\"Error accessing the microphone: \"+t.message)}const{onDestroy:e,onEnd:s}=this.renderMicStream(t);return this.subscriptions.push(this.once(\"destroy\",e)),this.subscriptions.push(this.once(\"record-end\",s)),this.stream=t,t}))}stopMic(){this.stream&&(this.stream.getTracks().forEach((t=>t.stop())),this.stream=null,this.mediaRecorder=null)}startRecording(i){return t(this,void 0,void 0,(function*(){const t=this.stream||(yield this.startMic(i));this.dataWindow=null;const e=this.mediaRecorder||new MediaRecorder(t,{mimeType:this.options.mimeType||o.find((t=>MediaRecorder.isTypeSupported(t))),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=e,this.stopRecording();const s=[];e.ondataavailable=t=>{t.data.size>0&&s.push(t.data),this.emit(\"record-data-available\",t.data)};const r=t=>{var i;const o=new Blob(s,{type:e.mimeType});this.emit(t,o),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),null===(i=this.wavesurfer)||void 0===i||i.load(URL.createObjectURL(o)))};e.onpause=()=>r(\"record-pause\"),e.onstop=()=>r(\"record-end\"),e.start(this.options.mediaRecorderTimeslice),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit(\"record-start\")}))}getDuration(){return this.duration}isRecording(){var t;return\"recording\"===(null===(t=this.mediaRecorder)||void 0===t?void 0:t.state)}isPaused(){var t;return\"paused\"===(null===(t=this.mediaRecorder)||void 0===t?void 0:t.state)}isActive(){var t;return\"inactive\"!==(null===(t=this.mediaRecorder)||void 0===t?void 0:t.state)}stopRecording(){var t;this.isActive()&&(null===(t=this.mediaRecorder)||void 0===t||t.stop(),this.timer.stop())}pauseRecording(){var t,i;this.isRecording()&&(this.isWaveformPaused=!0,null===(t=this.mediaRecorder)||void 0===t||t.requestData(),null===(i=this.mediaRecorder)||void 0===i||i.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var t;this.isPaused()&&(this.isWaveformPaused=!1,null===(t=this.mediaRecorder)||void 0===t||t.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit(\"record-resume\"))}static getAvailableAudioDevices(){return t(this,void 0,void 0,(function*(){return navigator.mediaDevices.enumerateDevices().then((t=>t.filter((t=>\"audioinput\"===t.kind))))}))}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic()}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.setOptions(this.originalOptions),delete this.originalOptions)}}export{r as default};\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport zip from \"lodash/zip\"\n\nimport {\n  FileUploaderState as FileUploaderStateProto,\n  IFileURLs,\n  UploadedFileInfo as UploadedFileInfoProto,\n} from \"@streamlit/protobuf\"\n\nimport { FileUploadClient } from \"~lib/FileUploadClient\"\nimport { WidgetInfo, WidgetStateManager } from \"~lib/WidgetStateManager\"\nimport { ensureError } from \"~lib/util/ErrorHandling\"\n\ntype SuccessfulUpload = {\n  fileUrl: IFileURLs\n  file: File\n}\n\ntype FailedUpload = {\n  file: File\n  error: Error\n}\n\nexport const uploadFiles = async ({\n  files,\n  uploadClient,\n  widgetMgr,\n  widgetInfo,\n  fragmentId,\n}: {\n  files: File[]\n  uploadClient: FileUploadClient\n  widgetMgr: WidgetStateManager\n  widgetInfo: WidgetInfo\n  fragmentId?: string\n}): Promise<{\n  successfulUploads: SuccessfulUpload[]\n  failedUploads: FailedUpload[]\n}> => {\n  let fileUrls: IFileURLs[] = []\n\n  try {\n    fileUrls = await uploadClient.fetchFileURLs(files)\n  } catch (e) {\n    return {\n      successfulUploads: [],\n      failedUploads: files.map(file => ({ file, error: ensureError(e) })),\n    }\n  }\n\n  const filesWithUrls = zip(files, fileUrls)\n\n  const successfulUploads: SuccessfulUpload[] = []\n  const failedUploads: FailedUpload[] = []\n\n  await Promise.all(\n    filesWithUrls.map(async ([file, fileUrl]) => {\n      if (!file || !fileUrl || !fileUrl.uploadUrl || !fileUrl.fileId) {\n        return { file, fileUrl, error: new Error(\"No upload URL found\") }\n      }\n\n      try {\n        await uploadClient.uploadFile(\n          { id: fileUrl.fileId, formId: widgetInfo.formId || \"\" }, // TODO SEE IF DOWNSTREAM LOGIC CAN BE SIMPLIFIED\n          fileUrl.uploadUrl,\n          file\n        )\n        successfulUploads.push({ fileUrl, file })\n      } catch (e) {\n        const error = ensureError(e)\n        failedUploads.push({ file, error })\n      }\n    })\n  )\n\n  widgetMgr.setFileUploaderStateValue(\n    widgetInfo,\n    new FileUploaderStateProto({\n      uploadedFileInfo: successfulUploads.map(\n        ({ file, fileUrl }) =>\n          new UploadedFileInfoProto({\n            fileId: fileUrl.fileId,\n            fileUrls: fileUrl,\n            name: file.name,\n            size: file.size,\n          })\n      ),\n    }),\n    {\n      fromUi: true,\n    },\n    fragmentId\n  )\n\n  return { successfulUploads, failedUploads }\n}\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useCallback, useEffect, useMemo, useState } from \"react\"\n\nimport { useFormClearHelper } from \"~lib/components/widgets/Form\"\nimport { WidgetStateManager } from \"~lib/WidgetStateManager\"\nimport { isNullOrUndefined, notNullOrUndefined } from \"~lib/util/utils\"\n\n/**\n * Think of useState, but the state is also persisted in the widget manager.\n * This allows you to have the state be persisted between mounting and unmounting of the component.\n * @param widgetMgr - The widget manager instance to use\n * @param id - The id of the widget to store the state for\n * @param key - The key of the state to store\n * @param defaultValue - The default value to use if the state is not set in the widget manager\n * @returns A tuple containing the current state and a function to set the state\n */\nconst useWidgetManagerElementState = <T,>({\n  widgetMgr,\n  id,\n  formId,\n  key,\n  defaultValue,\n}: {\n  widgetMgr: WidgetStateManager\n  id: string\n  formId?: string\n  key: string\n  defaultValue: T\n}): [T, (value: T) => void] => {\n  useEffect(() => {\n    const existingValue = widgetMgr.getElementState(id, key)\n    if (isNullOrUndefined(existingValue) && notNullOrUndefined(defaultValue)) {\n      widgetMgr.setElementState(id, key, defaultValue)\n    }\n  }, [widgetMgr, id, key, defaultValue])\n\n  const [state, setStateInternal] = useState<T>(\n    widgetMgr.getElementState(id, key) ?? defaultValue\n  )\n\n  const setState = useCallback(\n    (value: T) => {\n      widgetMgr.setElementState(id, key, value)\n      setStateInternal(value)\n    },\n    [widgetMgr, id, key]\n  )\n\n  const element = useMemo(() => ({ formId: formId || \"\" }), [formId])\n  const onFormCleared = useCallback(\n    () => setState(defaultValue),\n    [defaultValue, setState]\n  )\n\n  useFormClearHelper({\n    element,\n    widgetMgr,\n    onFormCleared,\n  })\n\n  return [state, setState]\n}\n\nexport default useWidgetManagerElementState\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useCallback } from \"react\"\n\nimport { LibContext } from \"~lib/components/core/LibContext\"\nimport createDownloadLinkElement from \"~lib/util/createDownloadLinkElement\"\n\nconst useDownloadUrl = (\n  url: string | null,\n  filename: string\n): (() => void) => {\n  const {\n    libConfig: { enforceDownloadInNewTab = false }, // Default to false, if no libConfig, e.g. for tests\n  } = React.useContext(LibContext)\n\n  const downloadUrl = useCallback(() => {\n    if (!url) return\n\n    const link = createDownloadLinkElement({\n      enforceDownloadInNewTab,\n      url,\n      filename,\n    })\n\n    link.style.display = \"none\"\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }, [url, enforceDownloadInNewTab, filename])\n\n  return downloadUrl\n}\n\nexport default useDownloadUrl\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport styled from \"@emotion/styled\"\nimport { Spinner } from \"baseui/spinner\"\n\nexport const StyledAudioInputContainerDiv = styled.div()\n\nexport const StyledWaveformContainerDiv = styled.div(({ theme }) => ({\n  height: theme.sizes.largestElementHeight,\n  width: \"100%\",\n  background: theme.colors.secondaryBg,\n  borderRadius: theme.radii.default,\n  marginBottom: theme.spacing.twoXS,\n  display: \"flex\",\n  alignItems: \"center\",\n  position: \"relative\",\n  paddingLeft: theme.spacing.xs,\n  paddingRight: theme.spacing.sm,\n  border: theme.colors.widgetBorderColor\n    ? `${theme.sizes.borderWidth} solid ${theme.colors.widgetBorderColor}`\n    : undefined,\n}))\n\nexport const StyledWaveformInnerDiv = styled.div({\n  flex: 1,\n})\n\nexport const StyledWaveSurferDiv = styled.div<{ show: boolean }>(\n  ({ show }) => ({\n    display: show ? \"block\" : \"none\",\n  })\n)\n\nexport const StyledWaveformTimeCode = styled.span<{\n  isPlayingOrRecording: boolean\n}>(({ theme, isPlayingOrRecording }) => ({\n  margin: theme.spacing.sm,\n  fontFamily: theme.fonts.monospace,\n  color: isPlayingOrRecording\n    ? theme.colors.bodyText\n    : theme.colors.fadedText60,\n  backgroundColor: theme.colors.secondaryBg,\n  fontSize: theme.fontSizes.sm,\n}))\n\nexport const StyledErrorContainerDiv = styled.div({\n  width: \"100%\",\n  textAlign: \"center\",\n  overflow: \"hidden\",\n})\n\nexport const StyledErrorTextSpan = styled.span(({ theme }) => ({\n  color: theme.colors.bodyText,\n}))\n\nexport const StyledNoMicInputLearnMoreLink = styled.a(({ theme }) => ({\n  color: theme.colors.link,\n  textDecoration: \"underline\",\n}))\n\n// Placeholder\nexport const StyledPlaceholderContainerDiv = styled.div(({ theme }) => ({\n  height: theme.sizes.largestElementHeight,\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n}))\n\nexport const StyledPlaceholderDotsDiv = styled.div(({ theme }) => {\n  const dotSize = \"0.625em\"\n  return {\n    opacity: 0.2,\n    width: \"100%\",\n    height: dotSize,\n    backgroundSize: dotSize,\n    backgroundImage: `radial-gradient(${theme.colors.fadedText10} 40%, transparent 40%)`,\n    backgroundRepeat: \"repeat\",\n  }\n})\n\nexport const StyledActionButtonStopRecordingDiv = styled.span(({ theme }) => ({\n  \"& > button\": {\n    color: theme.colors.primary,\n    padding: theme.spacing.threeXS,\n  },\n  \"& > button:hover, & > button:focus\": {\n    color: theme.colors.red,\n  },\n}))\n\nexport const StyledActionButtonStartRecordingDiv = styled.span(\n  ({ theme }) => ({\n    \"& > button\": {\n      padding: theme.spacing.threeXS,\n      color: theme.colors.fadedText60,\n    },\n    \"& > button:hover, & > button:focus\": {\n      color: theme.colors.bodyText,\n    },\n  })\n)\n\nexport const StyledActionButtonPlayPauseDiv = styled.span(({ theme }) => ({\n  \"& > button\": {\n    padding: theme.spacing.threeXS,\n    color: theme.colors.fadedText60,\n  },\n  \"& > button:hover, & > button:focus\": {\n    color: theme.colors.bodyText,\n  },\n}))\n\nexport const StyledActionButtonContainerDiv = styled.div(({ theme }) => ({\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  flexGrow: 0,\n  flexShrink: 1,\n  padding: theme.spacing.xs,\n  gap: theme.spacing.twoXS,\n  marginRight: theme.spacing.twoXS,\n}))\n\nexport const StyledWidgetLabelHelp = styled.div(({ theme }) => ({\n  marginLeft: theme.spacing.sm,\n}))\n\nexport const StyledSpinner = styled(Spinner)(({ theme }) => {\n  return {\n    fontSize: theme.fontSizes.sm,\n    width: theme.sizes.spinnerSize,\n    height: theme.sizes.spinnerSize,\n    borderWidth: theme.sizes.spinnerThickness,\n    justifyContents: \"center\",\n    padding: theme.spacing.none,\n    margin: theme.spacing.none,\n    borderColor: theme.colors.borderColor,\n    borderTopColor: theme.colors.secondary,\n    flexGrow: 0,\n    flexShrink: 0,\n  }\n})\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { memo, ReactElement } from \"react\"\n\nimport { ENABLE_PERIPHERALS_DOCS_URL } from \"~lib/urls\"\n\nimport {\n  StyledErrorContainerDiv,\n  StyledErrorTextSpan,\n  StyledNoMicInputLearnMoreLink,\n} from \"./styled-components\"\n\nconst NoMicPermissions = (): ReactElement => {\n  return (\n    <StyledErrorContainerDiv>\n      <StyledErrorTextSpan>\n        This app would like to use your microphone.\n      </StyledErrorTextSpan>{\" \"}\n      <StyledNoMicInputLearnMoreLink href={ENABLE_PERIPHERALS_DOCS_URL}>\n        Learn how to allow access.\n      </StyledNoMicInputLearnMoreLink>\n    </StyledErrorContainerDiv>\n  )\n}\n\nexport default memo(NoMicPermissions)\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { memo, ReactElement } from \"react\"\n\nimport {\n  StyledPlaceholderContainerDiv,\n  StyledPlaceholderDotsDiv,\n} from \"./styled-components\"\n\nconst Placeholder = (): ReactElement => {\n  return (\n    <StyledPlaceholderContainerDiv>\n      <StyledPlaceholderDotsDiv />\n    </StyledPlaceholderContainerDiv>\n  )\n}\n\nexport default memo(Placeholder)\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const WAVEFORM_PADDING = 4\nexport const BAR_WIDTH = 4\nexport const BAR_GAP = 4\nexport const BAR_RADIUS = 8\nexport const CURSOR_WIDTH = 0\n\nexport const STARTING_TIME_STRING = \"00:00\"\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst formatTime = (timeMs: number): string => {\n  const seconds = Math.floor(timeMs / 1000)\n  const minutes = Math.floor(seconds / 60)\n  const hours = Math.floor(minutes / 60)\n  const remainingSeconds = seconds % 60\n  const remainingMinutes = minutes % 60\n\n  const displaySec = remainingSeconds.toString().padStart(2, \"0\")\n  const displayMin = remainingMinutes.toString().padStart(2, \"0\")\n  const displayHours = hours.toString().padStart(2, \"0\")\n\n  return minutes < 60\n    ? `${displayMin}:${displaySec}`\n    : `${displayHours}:${displayMin}:${displaySec}`\n}\n\nexport default formatTime\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { memo } from \"react\"\n\nimport { Mic } from \"@emotion-icons/material-outlined\"\nimport {\n  Pause,\n  PlayArrow,\n  Refresh,\n  StopCircle,\n} from \"@emotion-icons/material-rounded\"\nimport { EmotionIcon } from \"@emotion-icons/emotion-icon\"\n\nimport BaseButton, { BaseButtonKind } from \"~lib/components/shared/BaseButton\"\nimport Icon from \"~lib/components/shared/Icon\"\n\nimport {\n  StyledActionButtonContainerDiv,\n  StyledActionButtonPlayPauseDiv,\n  StyledActionButtonStartRecordingDiv,\n  StyledActionButtonStopRecordingDiv,\n  StyledSpinner,\n} from \"./styled-components\"\n\ninterface BaseActionButtonProps {\n  onClick: () => void\n  disabled: boolean\n  ariaLabel: string\n  iconContent: EmotionIcon\n}\n\nconst ActionButton: React.FC<BaseActionButtonProps> = ({\n  onClick,\n  disabled,\n  ariaLabel,\n  iconContent,\n}) => (\n  <BaseButton\n    kind={BaseButtonKind.BORDERLESS_ICON}\n    onClick={onClick}\n    disabled={disabled}\n    aria-label={ariaLabel}\n    containerWidth\n    data-testid=\"stAudioInputActionButton\"\n  >\n    <Icon content={iconContent} size=\"lg\" color=\"inherit\" />\n  </BaseButton>\n)\n\nexport interface AudioInputActionButtonProps {\n  disabled: boolean\n  isRecording: boolean\n  isPlaying: boolean\n  isUploading: boolean\n  isError: boolean\n  recordingUrlExists: boolean\n  startRecording(): void\n  stopRecording(): void\n  onClickPlayPause(): void\n  onClear(): void\n}\n\ninterface AudioInputStopRecordingButtonProps {\n  disabled: boolean\n  stopRecording(): void\n}\n\ninterface AudioInputPlayPauseButtonProps {\n  disabled: boolean\n  isPlaying: boolean\n  onClickPlayPause(): void\n}\n\ninterface AudioInputStartRecordingButtonProps {\n  disabled: boolean\n  startRecording(): void\n}\n\ninterface AudioInputResetButtonProps {\n  onClick(): void\n}\n\nexport const AudioInputStopRecordingButton: React.FC<\n  AudioInputStopRecordingButtonProps\n> = ({ disabled, stopRecording }) => (\n  <StyledActionButtonStopRecordingDiv>\n    <ActionButton\n      onClick={stopRecording}\n      disabled={disabled}\n      ariaLabel=\"Stop recording\"\n      iconContent={StopCircle}\n    />\n  </StyledActionButtonStopRecordingDiv>\n)\n\nexport const AudioInputPlayPauseButton: React.FC<\n  AudioInputPlayPauseButtonProps\n> = ({ disabled, isPlaying, onClickPlayPause }) => {\n  return (\n    <StyledActionButtonPlayPauseDiv>\n      {isPlaying ? (\n        <ActionButton\n          onClick={onClickPlayPause}\n          disabled={disabled}\n          ariaLabel=\"Pause\"\n          iconContent={Pause}\n        />\n      ) : (\n        <ActionButton\n          onClick={onClickPlayPause}\n          disabled={disabled}\n          ariaLabel=\"Play\"\n          iconContent={PlayArrow}\n        />\n      )}\n    </StyledActionButtonPlayPauseDiv>\n  )\n}\n\nexport const AudioInputStartRecordingButton: React.FC<\n  AudioInputStartRecordingButtonProps\n> = ({ disabled, startRecording }) => (\n  <StyledActionButtonStartRecordingDiv>\n    <ActionButton\n      onClick={startRecording}\n      disabled={disabled}\n      ariaLabel=\"Record\"\n      iconContent={Mic}\n    />\n  </StyledActionButtonStartRecordingDiv>\n)\n\nexport const AudioInputResetButton: React.FC<AudioInputResetButtonProps> = ({\n  onClick,\n}) => (\n  <StyledActionButtonPlayPauseDiv>\n    <ActionButton\n      disabled={false}\n      onClick={onClick}\n      ariaLabel=\"Reset\"\n      iconContent={Refresh}\n    />\n  </StyledActionButtonPlayPauseDiv>\n)\n\nconst AudioInputActionButtons: React.FC<AudioInputActionButtonProps> = ({\n  disabled,\n  isRecording,\n  isPlaying,\n  isUploading,\n  isError,\n  recordingUrlExists,\n  startRecording,\n  stopRecording,\n  onClickPlayPause,\n  onClear,\n}) => {\n  if (isError) {\n    return (\n      <StyledActionButtonContainerDiv>\n        <AudioInputResetButton onClick={onClear} />\n      </StyledActionButtonContainerDiv>\n    )\n  }\n\n  if (isUploading) {\n    return (\n      <StyledActionButtonContainerDiv>\n        <StyledSpinner aria-label=\"Uploading\" />\n      </StyledActionButtonContainerDiv>\n    )\n  }\n\n  return (\n    <StyledActionButtonContainerDiv>\n      {isRecording ? (\n        <AudioInputStopRecordingButton\n          disabled={disabled}\n          stopRecording={stopRecording}\n        />\n      ) : (\n        <AudioInputStartRecordingButton\n          disabled={disabled}\n          startRecording={startRecording}\n        />\n      )}\n      {recordingUrlExists && (\n        <AudioInputPlayPauseButton\n          disabled={disabled}\n          isPlaying={isPlaying}\n          onClickPlayPause={onClickPlayPause}\n        />\n      )}\n    </StyledActionButtonContainerDiv>\n  )\n}\n\nexport default memo(AudioInputActionButtons)\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// code in this file was adapted from recorder.js library\n\nimport { getLogger } from \"loglevel\"\n\nconst LOG = getLogger(\"convertAudioToWav\")\n\n/**\n * Converts a file Blob (audio/video) to a WAV Blob.\n * @param fileBlob - The input file as a Blob.\n * @returns - A Promise resolving with the WAV file as a Blob.\n */\nasync function convertFileToWav(fileBlob: Blob): Promise<Blob | undefined> {\n  const audioContext = new window.AudioContext()\n  const arrayBuffer = await fileBlob.arrayBuffer()\n\n  let audioBuffer: AudioBuffer\n  try {\n    audioBuffer = await audioContext.decodeAudioData(arrayBuffer)\n  } catch (error) {\n    LOG.error(error)\n    return undefined // Return undefined if decoding fails\n  }\n\n  const HEADER_HEIGHT = 44\n  const numOfChan = audioBuffer.numberOfChannels\n  const sampleRate = audioBuffer.sampleRate\n  const length = audioBuffer.length * numOfChan * 2 + HEADER_HEIGHT\n  const buffer = new ArrayBuffer(length)\n  const view = new DataView(buffer)\n\n  // WAV header metadata\n  const wavHeader = {\n    0: { type: \"string\", value: \"RIFF\" },\n    4: { type: \"uint32\", value: length - 8 },\n    8: { type: \"string\", value: \"WAVE\" },\n    12: { type: \"string\", value: \"fmt \" },\n    16: { type: \"uint32\", value: 16 }, // PCM format\n    20: { type: \"uint16\", value: 1 }, // PCM format code\n    22: { type: \"uint16\", value: numOfChan }, // Number of channels\n    24: { type: \"uint32\", value: sampleRate }, // Sample rate\n    28: { type: \"uint32\", value: sampleRate * numOfChan * 2 }, // Byte rate\n    32: { type: \"uint16\", value: numOfChan * 2 }, // Block align\n    34: { type: \"uint16\", value: 16 }, // Bits per sample (16-bit)\n    36: { type: \"string\", value: \"data\" },\n    40: { type: \"uint32\", value: audioBuffer.length * numOfChan * 2 }, // Data chunk length\n  }\n\n  // Write WAV header from the dictionary using Object.entries\n  Object.entries(wavHeader).forEach(([offset, { type, value }]) => {\n    const intOffset = parseInt(offset, 10)\n    if (type === \"string\") {\n      writeString(view, intOffset, value as string)\n    } else if (type === \"uint32\") {\n      view.setUint32(intOffset, value as number, true)\n    } else if (type === \"uint16\") {\n      view.setUint16(intOffset, value as number, true)\n    }\n  })\n\n  // Write PCM data\n  let offset = HEADER_HEIGHT\n  for (let i = 0; i < audioBuffer.length; i++) {\n    for (let channel = 0; channel < numOfChan; channel++) {\n      const sample = Math.max(\n        -1,\n        Math.min(1, audioBuffer.getChannelData(channel)[i])\n      )\n      view.setInt16(offset, sample * 0x7fff, true)\n      offset += 2\n    }\n  }\n\n  const wavArray = new Uint8Array(buffer)\n  return new Blob([wavArray], { type: \"audio/wav\" })\n}\n\n/**\n * Writes a string to a DataView at the specified offset.\n * @param view - The DataView to write to.\n * @param offset - The starting offset in the DataView.\n * @param string - The string to write.\n */\nfunction writeString(view: DataView, offset: number, string: string): void {\n  for (let i = 0; i < string.length; i++) {\n    view.setUint8(offset + i, string.charCodeAt(i))\n  }\n}\n\nexport default convertFileToWav\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { memo, ReactElement } from \"react\"\n\nimport {\n  StyledErrorContainerDiv,\n  StyledErrorTextSpan,\n} from \"./styled-components\"\n\nconst AudioInputErrorState = (): ReactElement => {\n  return (\n    <StyledErrorContainerDiv>\n      <StyledErrorTextSpan>\n        An error has occurred, please try again.\n      </StyledErrorTextSpan>\n    </StyledErrorContainerDiv>\n  )\n}\n\nexport default memo(AudioInputErrorState)\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, {\n  memo,\n  ReactElement,\n  useCallback,\n  useEffect,\n  useState,\n} from \"react\"\n\nimport { useTheme } from \"@emotion/react\"\nimport WaveSurfer from \"wavesurfer.js\"\nimport RecordPlugin from \"wavesurfer.js/dist/plugins/record\"\nimport { Delete, FileDownload } from \"@emotion-icons/material-outlined\"\nimport isEqual from \"lodash/isEqual\"\n\nimport { AudioInput as AudioInputProto } from \"@streamlit/protobuf\"\n\nimport { FormClearHelper } from \"~lib/components/widgets/Form\"\nimport { FileUploadClient } from \"~lib/FileUploadClient\"\nimport { WidgetStateManager } from \"~lib/WidgetStateManager\"\nimport Toolbar, { ToolbarAction } from \"~lib/components/shared/Toolbar\"\nimport {\n  isNullOrUndefined,\n  labelVisibilityProtoValueToEnum,\n  notNullOrUndefined,\n} from \"~lib/util/utils\"\nimport { blend, convertRemToPx } from \"~lib/theme/utils\"\nimport { uploadFiles } from \"~lib/util/uploadFiles\"\nimport TooltipIcon from \"~lib/components/shared/TooltipIcon\"\nimport { Placement } from \"~lib/components/shared/Tooltip\"\nimport { WidgetLabel } from \"~lib/components/widgets/BaseWidget\"\nimport { usePrevious } from \"~lib/util/Hooks\"\nimport useWidgetManagerElementState from \"~lib/hooks/useWidgetManagerElementState\"\nimport useDownloadUrl from \"~lib/hooks/useDownloadUrl\"\n\nimport {\n  StyledAudioInputContainerDiv,\n  StyledWaveformContainerDiv,\n  StyledWaveformInnerDiv,\n  StyledWaveformTimeCode,\n  StyledWaveSurferDiv,\n  StyledWidgetLabelHelp,\n} from \"./styled-components\"\nimport NoMicPermissions from \"./NoMicPermissions\"\nimport Placeholder from \"./Placeholder\"\nimport {\n  BAR_GAP,\n  BAR_RADIUS,\n  BAR_WIDTH,\n  CURSOR_WIDTH,\n  STARTING_TIME_STRING,\n  WAVEFORM_PADDING,\n} from \"./constants\"\nimport formatTime from \"./formatTime\"\nimport AudioInputActionButtons from \"./AudioInputActionButtons\"\nimport convertAudioToWav from \"./convertAudioToWav\"\nimport AudioInputErrorState from \"./AudioInputErrorState\"\n\nexport interface Props {\n  element: AudioInputProto\n  uploadClient: FileUploadClient\n  widgetMgr: WidgetStateManager\n  fragmentId?: string\n  disabled: boolean\n}\n\nconst AudioInput: React.FC<Props> = ({\n  element,\n  uploadClient,\n  widgetMgr,\n  fragmentId,\n  disabled,\n}): ReactElement => {\n  const theme = useTheme()\n  const previousTheme = usePrevious(theme)\n  const [wavesurfer, setWavesurfer] = useState<WaveSurfer | null>(null)\n  const waveSurferRef = React.useRef<HTMLDivElement | null>(null)\n  const [deleteFileUrl, setDeleteFileUrl] = useWidgetManagerElementState<\n    string | null\n  >({\n    widgetMgr,\n    id: element.id,\n    key: \"deleteFileUrl\",\n    defaultValue: null,\n  })\n  const [recordPlugin, setRecordPlugin] = useState<RecordPlugin | null>(null)\n  // to eventually show the user the available audio devices\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [availableAudioDevices, setAvailableAudioDevices] = useState<\n    MediaDeviceInfo[]\n  >([])\n  const [activeAudioDeviceId, setActiveAudioDeviceId] = useState<\n    string | null\n  >(null)\n\n  const [recordingUrl, setRecordingUrl] = useWidgetManagerElementState<\n    string | null\n  >({\n    widgetMgr,\n    id: element.id,\n    key: \"recordingUrl\",\n    defaultValue: null,\n  })\n  const [, setRerender] = useState(0)\n  const forceRerender = (): void => {\n    setRerender(prev => prev + 1)\n  }\n  const [progressTime, setProgressTime] = useState(STARTING_TIME_STRING)\n\n  const [recordingTime, setRecordingTime] =\n    useWidgetManagerElementState<string>({\n      widgetMgr,\n      id: element.id,\n      formId: element.formId,\n      key: \"recordingTime\",\n      defaultValue: STARTING_TIME_STRING,\n    })\n\n  const [shouldUpdatePlaybackTime, setShouldUpdatePlaybackTime] =\n    useState(false)\n  const [hasNoMicPermissions, setHasNoMicPermissions] = useState(false)\n  const [hasRequestedMicPermissions, setHasRequestedMicPermissions] =\n    useState(false)\n  const [isUploading, setIsUploading] = useState(false)\n  const [isError, setIsError] = useState(false)\n\n  const widgetId = element.id\n  const widgetFormId = element.formId\n\n  const transcodeAndUploadFile = useCallback(\n    async (blob: Blob) => {\n      setIsUploading(true)\n      if (notNullOrUndefined(widgetFormId))\n        widgetMgr.setFormsWithUploadsInProgress(new Set([widgetFormId]))\n\n      let wavBlob: Blob | undefined = undefined\n\n      if (blob.type === \"audio/wav\") {\n        wavBlob = blob\n      } else {\n        wavBlob = await convertAudioToWav(blob)\n      }\n\n      if (!wavBlob) {\n        setIsError(true)\n        return\n      }\n\n      const url = URL.createObjectURL(wavBlob)\n      const timestamp = new Date().toISOString().slice(0, 16).replace(\":\", \"-\")\n      const file = new File([wavBlob], `${timestamp}_audio.wav`, {\n        type: wavBlob.type,\n      })\n\n      setRecordingUrl(url)\n\n      uploadFiles({\n        files: [file],\n        uploadClient,\n        widgetMgr,\n        widgetInfo: { id: widgetId, formId: widgetFormId },\n        fragmentId,\n      })\n        .then(({ successfulUploads, failedUploads }) => {\n          if (failedUploads.length > 0) {\n            setIsError(true)\n            return\n          }\n          const upload = successfulUploads[0]\n          if (upload && upload.fileUrl.deleteUrl) {\n            setDeleteFileUrl(upload.fileUrl.deleteUrl)\n          }\n        })\n        .finally(() => {\n          if (notNullOrUndefined(widgetFormId))\n            widgetMgr.setFormsWithUploadsInProgress(new Set())\n\n          setIsUploading(false)\n        })\n    },\n    [\n      setRecordingUrl,\n      uploadClient,\n      widgetMgr,\n      widgetId,\n      widgetFormId,\n      fragmentId,\n      setDeleteFileUrl,\n    ]\n  )\n\n  const handleClear = useCallback(\n    ({\n      updateWidgetManager,\n      deleteFile,\n    }: {\n      updateWidgetManager: boolean\n      deleteFile: boolean\n    }) => {\n      if (isNullOrUndefined(wavesurfer) || isNullOrUndefined(deleteFileUrl)) {\n        return\n      }\n      setRecordingUrl(null)\n      wavesurfer.empty()\n      if (deleteFile) {\n        uploadClient.deleteFile(deleteFileUrl)\n      }\n      setDeleteFileUrl(null)\n      setProgressTime(STARTING_TIME_STRING)\n      setRecordingTime(STARTING_TIME_STRING)\n      if (updateWidgetManager) {\n        widgetMgr.setFileUploaderStateValue(\n          element,\n          {},\n          { fromUi: true },\n          fragmentId\n        )\n      }\n      setShouldUpdatePlaybackTime(false)\n      if (notNullOrUndefined(recordingUrl)) {\n        URL.revokeObjectURL(recordingUrl)\n      }\n    },\n    [\n      deleteFileUrl,\n      recordingUrl,\n      uploadClient,\n      wavesurfer,\n      element,\n      widgetMgr,\n      fragmentId,\n      setRecordingTime,\n      setRecordingUrl,\n      setDeleteFileUrl,\n    ]\n  )\n\n  useEffect(() => {\n    if (isNullOrUndefined(widgetFormId)) return\n\n    const formClearHelper = new FormClearHelper()\n    formClearHelper.manageFormClearListener(widgetMgr, widgetFormId, () =>\n      handleClear({ updateWidgetManager: true, deleteFile: false })\n    )\n\n    return () => formClearHelper.disconnect()\n  }, [widgetFormId, handleClear, widgetMgr])\n\n  const initializeWaveSurfer = useCallback(() => {\n    if (waveSurferRef.current === null) return\n\n    const ws = WaveSurfer.create({\n      container: waveSurferRef.current,\n      waveColor: recordingUrl\n        ? blend(theme.colors.fadedText40, theme.colors.secondaryBg)\n        : theme.colors.primary,\n      progressColor: theme.colors.bodyText,\n      height:\n        convertRemToPx(theme.sizes.largestElementHeight) -\n        2 * WAVEFORM_PADDING,\n      barWidth: BAR_WIDTH,\n      barGap: BAR_GAP,\n      barRadius: BAR_RADIUS,\n      cursorWidth: CURSOR_WIDTH,\n      url: recordingUrl ?? undefined,\n    })\n\n    ws.on(\"timeupdate\", time => {\n      setProgressTime(formatTime(time * 1000)) // get from seconds to milliseconds\n    })\n\n    ws.on(\"pause\", () => {\n      forceRerender()\n    })\n\n    const rp = ws.registerPlugin(\n      RecordPlugin.create({\n        scrollingWaveform: false,\n        renderRecordedAudio: true,\n      })\n    )\n\n    rp.on(\"record-end\", async blob => {\n      transcodeAndUploadFile(blob)\n    })\n\n    rp.on(\"record-progress\", time => {\n      setRecordingTime(formatTime(time))\n    })\n\n    setWavesurfer(ws)\n    setRecordPlugin(rp)\n\n    return () => {\n      if (ws) ws.destroy()\n      if (rp) rp.destroy()\n    }\n    // note: intentionally excluding theme so that we don't have to recreate the wavesurfer instance\n    // and colors will be updated separately\n    // TODO: Update to match React best practices\n    // eslint-disable-next-line react-compiler/react-compiler\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [transcodeAndUploadFile])\n\n  useEffect(() => initializeWaveSurfer(), [initializeWaveSurfer])\n\n  useEffect(() => {\n    if (!isEqual(previousTheme, theme)) {\n      wavesurfer?.setOptions({\n        waveColor: recordingUrl\n          ? blend(theme.colors.fadedText40, theme.colors.secondaryBg)\n          : theme.colors.primary,\n        progressColor: theme.colors.bodyText,\n      })\n    }\n  }, [theme, previousTheme, recordingUrl, wavesurfer])\n\n  const onClickPlayPause = useCallback(() => {\n    if (wavesurfer) {\n      wavesurfer.playPause()\n      // This is because we want the time to be the duration of the audio when they stop recording,\n      // but once they start playing it, we want it to be the current time. So, once they start playing it\n      // we'll start keeping track of the playback time from that point onwards (until re-recording).\n      setShouldUpdatePlaybackTime(true)\n      // despite the state change above, this is still needed to force a rerender and make the time styling work\n      forceRerender()\n    }\n  }, [wavesurfer])\n\n  const startRecording = useCallback(async () => {\n    let audioDeviceId = activeAudioDeviceId\n\n    if (!hasRequestedMicPermissions) {\n      // this first part is to ensure we prompt for getting the user's media devices\n      await navigator.mediaDevices\n        .getUserMedia({ audio: true })\n        .then(() =>\n          RecordPlugin.getAvailableAudioDevices().then(devices => {\n            setAvailableAudioDevices(devices)\n            if (devices.length > 0) {\n              const { deviceId } = devices[0]\n              setActiveAudioDeviceId(deviceId)\n              audioDeviceId = deviceId\n            }\n          })\n        )\n        .catch(_err => {\n          setHasNoMicPermissions(true)\n        })\n      setHasRequestedMicPermissions(true)\n    }\n\n    if (!recordPlugin || !audioDeviceId || !wavesurfer) {\n      return\n    }\n\n    wavesurfer.setOptions({\n      waveColor: theme.colors.primary,\n    })\n\n    if (recordingUrl) {\n      handleClear({ updateWidgetManager: false, deleteFile: true })\n    }\n\n    recordPlugin.startRecording({ deviceId: audioDeviceId }).then(() => {\n      // Update the record button to show the user that they can stop recording\n      forceRerender()\n    })\n  }, [\n    activeAudioDeviceId,\n    recordPlugin,\n    theme,\n    wavesurfer,\n    recordingUrl,\n    handleClear,\n    hasRequestedMicPermissions,\n  ])\n\n  const stopRecording = useCallback(() => {\n    if (!recordPlugin) return\n\n    recordPlugin.stopRecording()\n\n    wavesurfer?.setOptions({\n      // We are blending this color instead of directly using the theme color (fadedText40)\n      // because the \"faded\" part of fadedText40 means introducing some transparency, which\n      // causes problems with the progress waveform color because wavesurfer is choosing to\n      // tint the waveColor with the progressColor instead of directly setting the progressColor.\n      // This means that the low opacity of fadedText40 causes the progress waveform to\n      // have the same opacity which makes it impossible to darken it enough to match designs.\n      // We fix this by blending the colors to figure out what the resulting color should be at\n      // full opacity, and we usee that color to set the waveColor.\n      waveColor: blend(theme.colors.fadedText40, theme.colors.secondaryBg),\n    })\n  }, [recordPlugin, wavesurfer, theme])\n\n  const downloadRecording = useDownloadUrl(recordingUrl, \"recording.wav\")\n\n  const isRecording = Boolean(recordPlugin?.isRecording())\n  const isPlaying = Boolean(wavesurfer?.isPlaying())\n\n  const isPlayingOrRecording = isRecording || isPlaying\n  const showPlaceholder = !isRecording && !recordingUrl && !hasNoMicPermissions\n\n  const showNoMicPermissionsOrPlaceholderOrError =\n    hasNoMicPermissions || showPlaceholder || isError\n\n  const isDisabled = disabled || hasNoMicPermissions\n\n  return (\n    <StyledAudioInputContainerDiv\n      className=\"stAudioInput\"\n      data-testid=\"stAudioInput\"\n    >\n      <WidgetLabel\n        label={element.label}\n        disabled={isDisabled}\n        labelVisibility={labelVisibilityProtoValueToEnum(\n          element.labelVisibility?.value\n        )}\n      >\n        {element.help && (\n          <StyledWidgetLabelHelp>\n            <TooltipIcon content={element.help} placement={Placement.TOP} />\n          </StyledWidgetLabelHelp>\n        )}\n      </WidgetLabel>\n      <StyledWaveformContainerDiv>\n        <Toolbar\n          isFullScreen={false}\n          disableFullscreenMode={true}\n          target={StyledWaveformContainerDiv}\n        >\n          {recordingUrl && (\n            <ToolbarAction\n              label=\"Download as WAV\"\n              icon={FileDownload}\n              onClick={() => downloadRecording()}\n            />\n          )}\n          {deleteFileUrl && (\n            <ToolbarAction\n              label=\"Clear recording\"\n              icon={Delete}\n              onClick={() =>\n                handleClear({ updateWidgetManager: true, deleteFile: true })\n              }\n            />\n          )}\n        </Toolbar>\n        <AudioInputActionButtons\n          isRecording={isRecording}\n          isPlaying={isPlaying}\n          isUploading={isUploading}\n          isError={isError}\n          recordingUrlExists={Boolean(recordingUrl)}\n          startRecording={startRecording}\n          stopRecording={stopRecording}\n          onClickPlayPause={onClickPlayPause}\n          onClear={() => {\n            handleClear({ updateWidgetManager: false, deleteFile: true })\n            setIsError(false)\n          }}\n          disabled={isDisabled}\n        />\n        <StyledWaveformInnerDiv>\n          {isError && <AudioInputErrorState />}\n          {showPlaceholder && <Placeholder />}\n          {hasNoMicPermissions && <NoMicPermissions />}\n          <StyledWaveSurferDiv\n            data-testid=\"stAudioInputWaveSurfer\"\n            ref={waveSurferRef}\n            show={!showNoMicPermissionsOrPlaceholderOrError}\n          />\n        </StyledWaveformInnerDiv>\n        <StyledWaveformTimeCode\n          isPlayingOrRecording={isPlayingOrRecording}\n          data-testid=\"stAudioInputWaveformTimeCode\"\n        >\n          {shouldUpdatePlaybackTime ? progressTime : recordingTime}\n        </StyledWaveformTimeCode>\n      </StyledWaveformContainerDiv>\n    </StyledAudioInputContainerDiv>\n  )\n}\n\nexport default memo(AudioInput)\n"],"names":["Mic","React.forwardRef","props","ref","attrs","React.createElement","EmotionIconBase","_extends","Pause","PlayArrow","Refresh","StopCircle","t","e","i","s","o","h","a","e$1","n","r","l","d","c","u","p","m","f","g","v","b","uploadFiles","files","uploadClient","widgetMgr","widgetInfo","fragmentId","fileUrls","fetchFileURLs","successfulUploads","failedUploads","map","file","error","ensureError","filesWithUrls","zip","Promise","all","fileUrl","uploadUrl","fileId","Error","uploadFile","id","formId","push","setFileUploaderStateValue","FileUploaderStateProto","uploadedFileInfo","UploadedFileInfoProto","name","size","fromUi","useWidgetManagerElementState","key","defaultValue","useEffect","existingValue","getElementState","isNullOrUndefined","notNullOrUndefined","setElementState","state","setStateInternal","useState","setState","useCallback","value","element","useMemo","onFormCleared","useFormClearHelper","useDownloadUrl","url","filename","libConfig","enforceDownloadInNewTab","React","useContext","LibContext","downloadUrl","link","createDownloadLinkElement","style","display","body","appendChild","click","removeChild","StyledAudioInputContainerDiv","target","StyledWaveformContainerDiv","theme","height","sizes","largestElementHeight","width","background","colors","secondaryBg","borderRadius","radii","default","marginBottom","spacing","twoXS","alignItems","position","paddingLeft","xs","paddingRight","sm","border","widgetBorderColor","borderWidth","undefined","StyledWaveformInnerDiv","styles","StyledWaveSurferDiv","show","StyledWaveformTimeCode","isPlayingOrRecording","margin","fontFamily","fonts","monospace","color","bodyText","fadedText60","backgroundColor","fontSize","fontSizes","StyledErrorContainerDiv","StyledErrorTextSpan","StyledNoMicInputLearnMoreLink","textDecoration","StyledPlaceholderContainerDiv","justifyContent","StyledPlaceholderDotsDiv","dotSize","opacity","backgroundSize","backgroundImage","fadedText10","backgroundRepeat","StyledActionButtonStopRecordingDiv","primary","padding","threeXS","red","StyledActionButtonStartRecordingDiv","StyledActionButtonPlayPauseDiv","StyledActionButtonContainerDiv","flexGrow","flexShrink","gap","marginRight","StyledWidgetLabelHelp","marginLeft","StyledSpinner","Spinner","spinnerSize","spinnerThickness","justifyContents","none","borderColor","borderTopColor","secondary","NoMicPermissions","jsx","ENABLE_PERIPHERALS_DOCS_URL","memo","Placeholder","WAVEFORM_PADDING","BAR_WIDTH","BAR_GAP","BAR_RADIUS","CURSOR_WIDTH","STARTING_TIME_STRING","formatTime","timeMs","seconds","Math","floor","minutes","hours","remainingSeconds","remainingMinutes","displaySec","toString","padStart","displayMin","displayHours","ActionButton","onClick","disabled","ariaLabel","iconContent","BaseButton","BaseButtonKind","BORDERLESS_ICON","Icon","AudioInputStopRecordingButton","stopRecording","AudioInputPlayPauseButton","isPlaying","onClickPlayPause","AudioInputStartRecordingButton","startRecording","AudioInputResetButton","AudioInputActionButtons","isRecording","isUploading","isError","recordingUrlExists","onClear","LOG","getLogger","convertFileToWav","fileBlob","audioContext","window","AudioContext","arrayBuffer","audioBuffer","decodeAudioData","HEADER_HEIGHT","numOfChan","numberOfChannels","sampleRate","length","buffer","ArrayBuffer","view","DataView","wavHeader","type","Object","entries","forEach","offset","intOffset","parseInt","setUint32","setUint16","channel","sample","max","min","getChannelData","setInt16","wavArray","Uint8Array","Blob","writeString","string","setUint8","charCodeAt","AudioInputErrorState","AudioInput","useTheme","previousTheme","usePrevious","wavesurfer","setWavesurfer","waveSurferRef","useRef","deleteFileUrl","setDeleteFileUrl","recordPlugin","setRecordPlugin","availableAudioDevices","setAvailableAudioDevices","activeAudioDeviceId","setActiveAudioDeviceId","recordingUrl","setRecordingUrl","setRerender","forceRerender","prev","progressTime","setProgressTime","recordingTime","setRecordingTime","shouldUpdatePlaybackTime","setShouldUpdatePlaybackTime","hasNoMicPermissions","setHasNoMicPermissions","hasRequestedMicPermissions","setHasRequestedMicPermissions","setIsUploading","setIsError","widgetId","widgetFormId","transcodeAndUploadFile","blob","setFormsWithUploadsInProgress","Set","wavBlob","convertAudioToWav","URL","createObjectURL","timestamp","Date","toISOString","slice","replace","File","then","upload","deleteUrl","finally","handleClear","updateWidgetManager","deleteFile","empty","revokeObjectURL","formClearHelper","FormClearHelper","manageFormClearListener","disconnect","initializeWaveSurfer","current","ws","WaveSurfer","create","container","waveColor","blend","fadedText40","progressColor","convertRemToPx","barWidth","barGap","barRadius","cursorWidth","on","time","rp","registerPlugin","RecordPlugin","scrollingWaveform","renderRecordedAudio","destroy","isEqual","setOptions","playPause","audioDeviceId","navigator","mediaDevices","getUserMedia","audio","getAvailableAudioDevices","devices","deviceId","catch","_err","downloadRecording","Boolean","showPlaceholder","showNoMicPermissionsOrPlaceholderOrError","isDisabled","jsxs","WidgetLabel","label","labelVisibilityProtoValueToEnum","labelVisibility","help","TooltipIcon","Placement","TOP","Toolbar","ToolbarAction","FileDownload","Delete"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6]}